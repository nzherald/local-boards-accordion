<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/core-collapse/core-collapse.html">
<link rel="import" href="../../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../../bower_components/paper-ripple/paper-ripple.html">

<polymer-element name="local-board-response" attributes="board">
  <template>
    <style>
      :host {
        display: block;
        border: 1px solid #E2E2E2;
        border-radius: 5px;
        padding: 14px;
        background: white;
        margin: 0 0 10px;
      }
      paper-item {
        display: block;
      }
      core-icon {
        float: right;
        transition: transform 0.3s;
      }
      #name {
        padding: 15px;
      }
    </style>
    <paper-item horizontal layout on-click="{{toggle}}">
        <div>
          <img src="{{board.image}}">
        </div>
        <div flex id='name'>
          <strong>{{board.representative}}</strong><br>{{board.title}}, {{board.board}}
        </span>
        </div>
        <div>
          <core-icon id="icon" icon="arrow-drop-down"></core-icon>
        </div>
    </paper-item>
    <core-collapse id="collapse">
      <div id='content'></div>
    </core-collapse>
  </template>
  <script>
    (function () {
      Polymer({
        ready: function(){
          if(this.board.html) {
            this.$.content.innerHTML = this.board.html;
          } else {
            this.$.content.innerHTML = '<p><i>Views not supplied</i></p>';
          }
        },
        toggle: function() {
          if(this.$.icon.style.transform) {
            this.$.icon.style.transform = null
            } else {
            this.$.icon.style.transform = "rotate(-180deg)";
          }
          this.$.collapse.toggle();
        }
        });
    })();
  </script>
</polymer-element>
